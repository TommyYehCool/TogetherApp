# 🎨 Together App - 視覺化總覽

## 📱 應用程式架構圖

```
┌─────────────────────────────────────────────────────────────┐
│                      Together App                           │
│                   地圖社交活動媒合平台                        │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
        ┌─────────────────────────────────────────┐
        │         UI Layer (Presentation)         │
        ├─────────────────────────────────────────┤
        │  • HomeScreen (地圖主畫面)              │
        │  • ActivityMarkerWidget (膠囊標記) ⭐   │
        │  • ActivityDetailPanel (詳情面板)       │
        │  • CreateActivityDialog (建立對話框)    │
        └─────────────────────────────────────────┘
                              │
                              ▼
        ┌─────────────────────────────────────────┐
        │      Service Layer (Business Logic)     │
        ├─────────────────────────────────────────┤
        │  • ActivityService (狀態管理)           │
        │    - Provider                           │
        │    - ChangeNotifier                     │
        └─────────────────────────────────────────┘
                              │
                              ▼
        ┌─────────────────────────────────────────┐
        │        Data Layer (Data Access)         │
        ├─────────────────────────────────────────┤
        │  • ApiService (API 通訊)                │
        │    - Dio HTTP Client                    │
        │    - Mock Data Support                  │
        └─────────────────────────────────────────┘
                              │
                              ▼
        ┌─────────────────────────────────────────┐
        │         Model Layer (Data Model)        │
        ├─────────────────────────────────────────┤
        │  • Activity Model                       │
        │    - JSON Serialization                 │
        │    - Computed Properties                │
        └─────────────────────────────────────────┘
```

---

## 🗺️ 主畫面佈局

```
┌───────────────────────────────────────────────────────────┐
│  ┌─────────────────────────────────────────────────────┐  │
│  │  🔍  搜尋附近活動...                          👤   │  │ ← 頂部搜尋列
│  └─────────────────────────────────────────────────────┘  │   (藥丸形狀)
│                                                           │
│                                                           │
│                    🗺️ Google Map                         │
│                                                           │
│         ┌──────────────────────────┐                     │
│         │ 🎯 咖啡廳讀書會   [3/5] │ ← 膠囊標記 1        │
│         └──────────────────────────┘   (Boosted)         │
│                                                           │
│                                                           │
│                      ┌──────────────────────────┐        │
│                      │ ⚽ 籃球鬥牛      [4/6]  │        │
│                      └──────────────────────────┘        │
│                                                           │
│    ┌──────────────────────────┐                          │
│    │ 🍜 夜市美食團   [8/8]  │ ← 已額滿（灰色）        │
│    └──────────────────────────┘                          │
│                                                           │
│                                                           │
│                                                           │
│                                                           │
│                                                  ┌─────┐  │
│                                                  │ 📍  │  │ ← 我的位置
│                                                  └─────┘  │
│                                                           │
│                                        ┌───────────────┐  │
│                                        │ ➕ 建立活動  │  │ ← 建立活動
│                                        └───────────────┘  │
└───────────────────────────────────────────────────────────┘
```

---

## 🏷️ 膠囊標記設計

### 正常狀態
```
┌─────────────────────────────────────┐
│  🎯  咖啡廳讀書會      [3/5]       │
└─────────────────────────────────────┘
  ↑         ↑              ↑
 圖示      標題         人數標籤

顏色：白底 + 青綠色邊框 (#00D0DD)
形狀：Stadium (完全圓角)
陰影：輕微陰影效果
```

### Boosted 狀態
```
┌═════════════════════════════════════┐
║  ⭐  籃球鬥牛          [4/6]       ║
└═════════════════════════════════════┘

顏色：白底 + 金色邊框 (#FFD700)
邊框：加粗 (3px)
特效：閃亮效果
```

### 已額滿狀態
```
┌─────────────────────────────────────┐
│  🍜  夜市美食團        [8/8]       │
└─────────────────────────────────────┘

顏色：灰色底 + 灰色邊框
狀態：視覺上較淡
互動：無法點擊加入
```

---

## 📋 活動詳情面板

```
┌───────────────────────────────────────────────────────────┐
│                         ━━━━                              │ ← 拖曳指示器
│                                                           │
│  ┌────────┐  ┌──────────┐                               │
│  │ 學習   │  │ ⭐ Boosted │                              │ ← 標籤
│  └────────┘  └──────────┘                               │
│                                                           │
│  咖啡廳讀書會                                             │ ← 標題
│                                                           │
│  ┌─────────────────────────────────────────────────┐    │
│  │  🕐  03/20 14:00                               │    │
│  │  👥  3/5 人                                    │    │ ← 資訊區
│  │  👤  主辦人：小明                              │    │
│  └─────────────────────────────────────────────────┘    │
│                                                           │
│  活動說明                                                 │
│  ─────────                                               │
│  一起來咖啡廳讀書吧！歡迎帶自己的書，                     │
│  我們會在星巴克二樓靠窗的位置。                           │ ← 描述
│  適合想要專心讀書的朋友。                                 │
│                                                           │
│                                                           │
│  ┌─────────────────────────────────────────────────┐    │
│  │                  加入活動                       │    │ ← 按鈕
│  └─────────────────────────────────────────────────┘    │
└───────────────────────────────────────────────────────────┘
```

---

## ➕ 建立活動對話框

```
┌───────────────────────────────────────────────────────────┐
│  ✕                建立新活動                              │ ← 標題列
├───────────────────────────────────────────────────────────┤
│                                                           │
│  活動標題                                                 │
│  ┌─────────────────────────────────────────────────┐    │
│  │ 例如：咖啡廳讀書會                              │    │
│  └─────────────────────────────────────────────────┘    │
│                                                           │
│  活動類別                                                 │
│  ┌─────────────────────────────────────────────────┐    │
│  │ 社交 ▼                                          │    │
│  └─────────────────────────────────────────────────┘    │
│                                                           │
│  活動說明                                                 │
│  ┌─────────────────────────────────────────────────┐    │
│  │                                                 │    │
│  │ 描述活動內容、注意事項等...                     │    │
│  │                                                 │    │
│  └─────────────────────────────────────────────────┘    │
│                                                           │
│  人數上限：5 人                                           │
│  ├─────────●───────────────────────────────────┤        │
│  2                                            20          │
│                                                           │
│  🕐 開始時間                                              │
│  ┌─────────────────────────────────────────────────┐    │
│  │ 03/20 14:00                                >    │    │
│  └─────────────────────────────────────────────────┘    │
│                                                           │
│                                                           │
│  ┌─────────────────────────────────────────────────┐    │
│  │                  建立活動                       │    │
│  └─────────────────────────────────────────────────┘    │
└───────────────────────────────────────────────────────────┘
```

---

## 🎨 色彩系統

```
主色調 (Primary)
┌──────────┐
│ #00D0DD  │  青綠色 - 按鈕、強調色、邊框
└──────────┘

文字色 (Text)
┌──────────┐
│ #2D3436  │  深灰色 - 主要文字
└──────────┘

背景色 (Background)
┌──────────┐
│ #FFFFFF  │  白色 - 主要背景
└──────────┘

次要色 (Secondary)
┌──────────┐
│ #FFD700  │  金色 - Boosted 標記
└──────────┘

灰色 (Grey)
┌──────────┐
│ #9E9E9E  │  灰色 - 已額滿狀態
└──────────┘
```

---

## 📐 間距系統

```
小間距 (Small)
├─ 8px ─┤

中間距 (Medium)
├──── 16px ────┤

大間距 (Large)
├────── 24px ──────┤
```

---

## 🔄 使用者流程圖

### 查看活動流程
```
開啟 App
    ↓
取得位置權限
    ↓
載入地圖
    ↓
顯示附近活動標記
    ↓
點擊標記
    ↓
滑動面板開啟
    ↓
查看活動詳情
    ↓
點擊「加入活動」
    ↓
成功加入 ✅
```

### 建立活動流程
```
點擊「建立活動」按鈕
    ↓
開啟建立對話框
    ↓
填寫活動標題
    ↓
選擇活動類別
    ↓
輸入活動說明
    ↓
調整人數上限
    ↓
選擇開始時間
    ↓
點擊「建立活動」
    ↓
驗證表單
    ↓
送出 API 請求
    ↓
地圖更新顯示新活動 ✅
```

---

## 🔌 資料流程圖

```
┌─────────────┐
│   UI 層     │  使用者互動
└──────┬──────┘
       │
       ▼
┌─────────────┐
│ Service 層  │  ActivityService (Provider)
└──────┬──────┘  • 管理狀態
       │         • 通知 UI 更新
       ▼
┌─────────────┐
│  Data 層    │  ApiService (Dio)
└──────┬──────┘  • HTTP 請求
       │         • Mock 資料
       ▼
┌─────────────┐
│ Backend API │  真實後端 / Mock
└─────────────┘
```

---

## 🎯 核心元件關係圖

```
                    main.dart
                        │
                        ▼
              ┌─────────────────┐
              │  MultiProvider  │
              └────────┬────────┘
                       │
                       ▼
              ┌─────────────────┐
              │  ActivityService │
              └────────┬────────┘
                       │
        ┌──────────────┼──────────────┐
        ▼              ▼              ▼
   HomeScreen   ApiService      Activity Model
        │
        ├─── ActivityMarkerWidget ⭐
        ├─── ActivityDetailPanel
        └─── CreateActivityDialog
```

---

## 📊 功能模組圖

```
┌─────────────────────────────────────────────────────────┐
│                    Together App                         │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌──────────────┐  ┌──────────────┐  ┌─────────────┐ │
│  │   地圖模組   │  │   活動模組   │  │  使用者模組 │ │
│  ├──────────────┤  ├──────────────┤  ├─────────────┤ │
│  │ • 地圖顯示   │  │ • 活動列表   │  │ • 個人資料  │ │
│  │ • 標記顯示   │  │ • 活動詳情   │  │ • 位置權限  │ │
│  │ • 位置追蹤   │  │ • 建立活動   │  │ • 認證      │ │
│  │ • 地圖互動   │  │ • 加入活動   │  │             │ │
│  └──────────────┘  └──────────────┘  └─────────────┘ │
│                                                         │
│  ┌──────────────┐  ┌──────────────┐  ┌─────────────┐ │
│  │   UI 模組    │  │   網路模組   │  │  狀態模組   │ │
│  ├──────────────┤  ├──────────────┤  ├─────────────┤ │
│  │ • 膠囊標記 ⭐│  │ • API 服務   │  │ • Provider  │ │
│  │ • 滑動面板   │  │ • HTTP 請求  │  │ • 狀態管理  │ │
│  │ • 對話框     │  │ • Mock 資料  │  │ • 通知機制  │ │
│  │ • 按鈕元件   │  │ • 錯誤處理   │  │             │ │
│  └──────────────┘  └──────────────┘  └─────────────┘ │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

---

## 🚀 開發進度視覺化

```
MVP 開發進度

資料層    ████████████████████ 100% ✅
服務層    ████████████████████ 100% ✅
UI 層     ████████████████████ 100% ✅
設定      ████████████████████ 100% ✅
文件      ████████████████████ 100% ✅

總體進度  ████████████████████ 100% 🎉
```

---

## 📱 支援平台

```
┌─────────────┐        ┌─────────────┐
│   Android   │        │     iOS     │
├─────────────┤        ├─────────────┤
│  Android 5+ │        │   iOS 12+   │
│  (API 21+)  │        │             │
│             │        │             │
│  ✅ 支援    │        │  ✅ 支援    │
└─────────────┘        └─────────────┘
```

---

## 🎯 下一步開發路線圖

```
目前位置：MVP 完成 ✅
    │
    ├─→ 階段 1：測試與部署 (1 週)
    │   • 取得 Google Maps API Key
    │   • 測試所有功能
    │   • 修復 Bug
    │
    ├─→ 階段 2：後端整合 (2 週)
    │   • 開發後端 API
    │   • 整合真實 API
    │   • 使用者認證
    │
    ├─→ 階段 3：核心功能 (3 週)
    │   • 活動聊天室
    │   • 推播通知
    │   • 活動篩選
    │
    └─→ 階段 4：進階功能 (4 週)
        • Boost 付費功能
        • 評價系統
        • 好友系統
```

---

**建立日期**: 2026-02-02  
**版本**: 1.0.0  
**狀態**: ✅ MVP 完成
